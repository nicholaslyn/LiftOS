:root{
  --bg:#0b0e12;       /* page (deep slate) */
  --panel:#11161c;    /* panels */
  --ink:#e8edf2;      /* text */
  --muted:#99a1aa;    /* secondary */
  --line:#1a222c;     /* borders */
  --primary:#f59e0b;  /* gold */
  --accent:#38bdf8;   /* cyan accent */
  --danger:#ef4444;   /* red */
  --chip:#0e1318;
  --shadow:0 18px 50px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Arial}
.hide{display:none}

/* new */
.app{display:grid;grid-template-columns:260px 1fr;min-height:100svh}
.sidebar{position:sticky;top:0;height:100svh;padding:18px;background:linear-gradient(180deg,#0e1318,#0b0e12 60%);border-right:1px solid var(--line)}
/* Fallback for older browsers */
@supports not (height: 100svh){
  .app{min-height:100vh}
  .sidebar{height:100vh}
}
.brand{font-weight:800;letter-spacing:.6px;font-size:22px;margin-bottom:16px}
.nav{display:grid;gap:8px}
.nav-btn{text-align:left;padding:10px 12px;border-radius:12px;background:var(--chip);border:1px solid var(--line);color:var(--ink);cursor:pointer}
.nav-btn.active{outline:2px solid rgb(245 158 11 / .4);border-color:#242d38}
.side-foot{position:absolute;left:18px;right:18px;bottom:18px;color:var(--muted);font-size:12px}

.content{padding:18px}
.panel{display:none;background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:16px;margin:16px 0;box-shadow:var(--shadow)}
.panel.show{display:block}
.panel-title{margin:0 0 6px}
.panel-subtitle{margin:10px 0 6px;color:var(--muted)}

.head{display:flex;align-items:flex-end;justify-content:space-between;gap:12px;flex-wrap:wrap}
.row{display:flex;gap:10px;align-items:flex-end;flex-wrap:wrap}

.field>span{display:block;color:var(--muted);margin:0 0 6px}
input,select,textarea,button{font:inherit}
input,select,textarea{background:#0e1318;border:1px solid var(--line);color:var(--ink);border-radius:10px;padding:10px 12px;outline:none}
input:focus,select:focus,textarea:focus{border-color:#2a3643;box-shadow:0 0 0 3px rgba(56,189,248,.14)}
textarea.program{min-height:220px;resize:vertical}

.btn{
  background:linear-gradient(180deg,#f8b43c,#f59e0b);border:1px solid #a56d08;color:#140c02;
  border-radius:12px;padding:10px 14px;font-weight:800;cursor:pointer;transition:transform .04s ease,filter .15s ease
}
.btn:hover{filter:brightness(1.06)} .btn:active{transform:translateY(1px)}
.btn.ghost{background:var(--chip);color:var(--ink);border:1px solid var(--line)}
.btn.danger{color:var(--danger);border-color:#4a1313}

.card{background:#0e1318;border:1px solid var(--line);border-radius:14px;padding:14px;box-shadow:var(--shadow)}
.stack{display:grid;gap:12px}
.list{list-style:none;margin:10px 0 0;padding:0}
.list li{padding:10px 12px;border:1px dashed var(--line);border-radius:10px;margin:8px 0;color:var(--muted)}
.muted{color:var(--muted)}

.table-wrap{overflow:auto}
.table{width:100%;border-collapse:collapse}
.table th,.table td{border-bottom:1px solid var(--line);padding:10px 8px;text-align:left}
.table th{color:var(--muted);font-weight:700}

.tools-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.grid-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px}
.right{display:flex;gap:10px;justify-content:flex-end}
@media (max-width:980px){ .tools-grid,.grid-3{grid-template-columns:1fr 1fr} }
@media (max-width:680px){ .tools-grid,.grid-3,.grid-2{grid-template-columns:1fr} }

.ex{background:#0e1318;border:1px solid var(--line);border-radius:14px;padding:12px}
.ex header{display:flex;align-items:center;justify-content:space-between;gap:8px}
.title{font-weight:800}
.badges{display:flex;gap:8px;flex-wrap:wrap}
.badge{display:inline-flex;gap:6px;align-items:center;padding:2px 10px;border-radius:999px;background:#0b1016;border:1px solid var(--line);color:var(--muted);font-size:.88rem}
.badge.pr{background:#1a1405;border-color:#3a2c0c;color:#f7c66b}
.sets{margin-top:10px}
.set-row{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}
.set-list{margin-top:10px;border-top:1px dashed var(--line);padding-top:8px}
.chips{display:flex;gap:8px;flex-wrap:wrap}
.chip{padding:4px 10px;border-radius:999px;background:#0b1016;border:1px solid var(--line);color:var(--muted)}

.bars{display:grid;gap:8px}
.bar{display:flex;gap:10px;align-items:center}
.meter{height:12px;background:#0b1016;border:1px solid var(--line);border-radius:999px;overflow:hidden;flex:1}
.fill{height:100%;background:linear-gradient(90deg,var(--primary),var(--accent))}

.plates{margin-top:8px}
.plates .line{display:flex;gap:8px;flex-wrap:wrap}
.plate{background:#f8b43c;color:#2b1a05;border:1px solid #9f6e0a;border-radius:8px;padding:4px 8px}
.plate.small{background:#38bdf8;color:#04141c;border-color:#1e7a99}

.rest{position:fixed;left:0;right:0;bottom:0;transform:translateY(120px);transition:transform .25s ease}
.rest.show{transform:translateY(0)}
.rest-inner{
  max-width:1200px;margin:0 auto;background:#0a0e12;color:#f4f7fa;
  border-top:1px solid #232b35;box-shadow:0 -18px 40px rgba(0,0,0,.35);
  border-top-left-radius:12px;border-top-right-radius:12px;padding:12px 16px;
  display:flex;align-items:center;justify-content:space-between;gap:12px
}
.rest-actions{display:flex;gap:10px}
#restTime{font-weight:900;font-variant-numeric:tabular-nums;letter-spacing:.5px}
/* --- Mobile layout (phones) --- */
@media (max-width: 780px){
  /* Layout: sidebar becomes a sticky top bar */
  .app{grid-template-columns:1fr}
  .sidebar{
    position:sticky; top:0; height:auto; z-index:10;
    padding:10px 12px; border-right:none; border-bottom:1px solid var(--line);
    display:grid; grid-template-columns:auto 1fr; align-items:center; gap:12px;
    background:linear-gradient(180deg,#0e1318,#0b0e12 60%);
  }
  .brand{margin:0}
  .nav{
    display:flex; gap:8px; overflow-x:auto; -webkit-overflow-scrolling:touch;
    padding-bottom:4px;
  }
  .nav::-webkit-scrollbar{display:none}
  .nav-btn{flex:0 0 auto; white-space:nowrap; padding:8px 10px}
  .nav-btn.active{outline-width:2px}
  .side-foot{display:none}

  /* Content spacing */
  .content{padding:12px}
  .panel{margin:12px 0; padding:12px}

  /* “Save Set” row: from 5 cramped columns → stacked 2-column grid */
  .set-row{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:8px;
    grid-template-areas:
      "weight reps"
      "rpe    chip"
      "btn    btn";
  }
  .set-row .in-weight{grid-area:weight}
  .set-row .in-reps{grid-area:reps}
  .set-row .in-rpe{grid-area:rpe}
  .set-row .chip{grid-area:chip; justify-self:start}
  .set-row .save-set{grid-area:btn}

  /* Cards & grids */
  .tools-grid,.grid-3{grid-template-columns:1fr}
  .grid-2{grid-template-columns:1fr 1fr}

  /* Tables: keep easy horizontal scroll without squishing */
  .table-wrap{overflow:auto; margin:0 -12px; padding:0 12px}

  /* Rest drawer: respect iOS safe area */
  .rest-inner{padding-bottom:calc(12px + env(safe-area-inset-bottom))}
}

/* Slightly larger phones / phablets: avoid 3-column tools */
@media (max-width:980px){
  .tools-grid,.grid-3{grid-template-columns:1fr 1fr}
}
@media (max-width:680px){
  .tools-grid,.grid-3,.grid-2{grid-template-columns:1fr}
}

/* Touch niceties */
button,input,select,textarea{ -webkit-tap-highlight-color: transparent; touch-action: manipulation; }
/* Brand lockup */
.brand{display:flex;align-items:center;gap:10px}
.logo-mark{width:28px;height:28px;display:block}
.brand .wordmark{font-weight:800;letter-spacing:.6px;font-size:20px}

/* On phones, keep the icon to save space */
@media (max-width:780px){
  .brand .wordmark{display:none}
}




